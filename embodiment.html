<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Embodiment Project</title>
    <meta name="author" content="Benjamin Henschen">
    <meta name="description" content="This is the portfolio website for Benjamin Henschen">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="styles/slicknav.css">
    <!-- <link rel="stylesheet" href="styles/projects.css"> -->
    <link href="css/main.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="scripts/jquery.slicknav.min.js"></script>
    <script src="scripts/main.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#nav_menu').slicknav({prependTo:"#mobilemenu"});
        });
    </script>
</head>
<body class="bg-base">
    <my-header></my-header>
    
    <h1 class="text-center bg-primary py-3 m-0">Embodiment</h1>
    <div class="container-5xl my-1">
        <div class="row">
            <div class="col-6">
                <img class="img-fluid border-5 border-dark" src="pictures\Embodiment\Embodiment Banner.PNG" alt="">
            </div>

            <div class="col-6">
                <div class="row h3 ms-3 mt-3">
                    <ul>
                        <li>Role: Gameplay/Animation Programmer</li>
                        <li>Team Size: 5</li>
                        <li>Development Time: 8 months</li>
                        <li>Platforms: PC (Steam)</li>
                        <li>Engine: Unity</li>
                    </ul>
                </div>
                <div class="row justify-content-around align-items-center">
                    <div class="col-2">
                        <a href="https://store.steampowered.com/app/2066200/Embodiment/" target="_blank"> 
                            <img class="img-fluid" src="pictures/steamLogo.png">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h2 class="bg-primary text-center py-3 mb-0 display-4">Contributions</h2>
    <div class="container-xl">
        <h1 class="text-decoration-underline bg-black p-2 ps-1 mt-0">Programming</h1>
        <h3>Dynamic Animation</h3>
        <p class="border-start border-2 border-primary ps-2">
            A year after the project was finished, I returned to this project to work on something I always wanted to do during the development of this project, but never
            had the time or reason to do it. <strong> Dynamic Animation. </strong> Animation that is defined from math and drawn using Unity's built-in drawing tools. It would look more fluid, fit with the artstyle, and be a nice detail.
            <br>
            I decided to take up this challenge cause I always wanted to see how dynamic animation was done. And after the time that I have spent with it, I've come to a much deeper appreciation for animation and graphic programmers.
            <br>
            The first question I asked myself was: How do I draw the tentacles? I already knew what I wanted them to look like, a simple, black, line. I was goign to use Unity's built-in Line renderer to draw the line. I already knew how to use it for this, I just had figure the shape. I wanted the tentacle to function like a bezier curve, so I tried googling how make one in Unity. I found a tutorial that while it wasn't quite what I was looking for it pointed me the right direction. In order to the make the bezier curve tentacle, I would have to use quadratic lerp and cubic lerp functions.
            <br>
            These functions take 3 or 4 positions and a fraction between 0 and 1 to create a curve. The fraction is based off a variable that created, that when changed, changes how smooth the line is. For the positions, the last position was the easiest, it's where the foot is. The first position was a bit more difficult. I had a to decide between either starting at the center of the body of the player or the perimeter. I ended going with the center because if first position is at the center and the second at the perimeter it would look the most natural. The third point took some time, but since I just need the tentacle to be planted flat on the ground. All I did was calculate a point that was higher up relative to the rotation of the foot. The second point was by far the most complicated position to calculate.
            <br>
            The wanted this posiion to be close to the body. So I figured that if I could clamp the position to be within the radius of the player's body, it would make tentacle emerge from the correct angle. So, I did some research and decided to use a re-engineered circle function, where it would allow me to get the y-position of the this position. While the x-position I got from the foot. Now, it worked, but I later decided to go with a different method. The previous method was too complicated and had a lot of problems with edge cases involving large values. So, I found a way using vectors. Now, as of this writing, I calculate vector that point from the body to the third position, half it, then add it to the body's position.
            <br>
            The next challenge was animating the legs to move in natural way. I knew how I wanted it to look. So, I tried to figure out a way to animate the legs. I thought I could use Unity's built-in animator, but given my limited knowledge that I decided to animate it using what I knew best. I animated it in a script. I created that function that when supplied a position will move the foot towards that position, while making it look like it is picking up the foot and setting it back down again. I used the same cubic lerp function to help me create this. The first and last position were just the foot's current position and the supplied position, respectively. The second and third didn't to be to complicated, so they just the first and last positions raised up by a unit. This allows some natural looking movement that makes sense for this fiction character. As of this writing, this is the current version:
            <br>
            <div class="container-lg text-center border-start border-2 border-primary">
                <img src="pictures\Embodiment\DynamicAnimation.gif" alt="" class="img-fluid">
            </div>
            <br>
            <div class="container-fluid border-start border-2 border-primary">
                <!-- Header Row -->
                <div class="row">
                    <div class="col">
                        <h4>Tentacle Drawer: DrawTentacle function</h4>
                    </div>
                    
                </div>

                <div class="row">
                    <div class="col-12 col-lg-5">
                        <p>
                            This is the function that I use to create the tentacle itself. First, it calculates the third position by using the foot's position and the up vector of the transform of the foot. It then calculates a vector going from the body of player to this position and then adds the body's position and stores the outcome in a new variable. I then calculate the path of the tentacle using the cubic lerp formula, while storing each position into an array. Finally, we use built-in function with the line renderer component to set all of these points and create the tentacle.
                        </p>
                        <div class="text-start">
                            <!-- File Download -->
                            <a href="pictures\Embodiment\Files\TentacleDrawer.cs" target="_blank" class="btn btn-outline-primary" data-bs-toggle="tooltip" data-bs-placement="right" title="View File">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-file-earmark" viewBox="0 0 16 16">
                                    <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
                                  </svg>
                            </a>
                        </div>
                    </div>
                    <div class="col-7 col-lg-0 d-none d-lg-block">
                        <img src="pictures\Embodiment\DrawTentacle.PNG" alt="" class="img-fluid">
                    </div>
                </div>
            </div>
            <br>
        </p>

        <h3>Player Refactor</h3>
        <p>
            Explain the intended funcationality of these scripts.
            <br><br>
            I also had a role in the refactoring of our player scripts. This was a huge project. We had to split up one of our biggest scripts into 5-6 other scripts, that way the code would be more organized and simpler. We made use of c# inheritance and encapsulation funcationality as much as we could to help simplfy the process. The end goal was to have all the similar behaviors in one place and the behaviors distinct to each form in separate scripts. In the end it helped, we were able to make the code more organized and made other future additions easier to add.
            <!-- Before Player Refactor -->
            <h4>Old Code</h4>
            <div class="accordion" id="OldPlayerScripts">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="plyController">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePly" aria-expanded="true" aria-controls="collapsePly">
                      PlyController.cs
                    </button>
                  </h2>
                  <div id="collapsePly" class="accordion-collapse collapse" aria-labelledby="plyController" data-bs-parent="#OldPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="controlMovement">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCM" aria-expanded="false" aria-controls="collapseCM">
                      ControlMovement.cs
                    </button>
                  </h2>
                  <div id="collapseCM" class="accordion-collapse collapse" aria-labelledby="controlMovement" data-bs-parent="#OldPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="specialInteractions">
                        <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSI" aria-expanded="false" aria-controls="collapseSI">
                            SpecialInteractions.cs
                        </button>
                    </h2>
                    <div id="collapseSI" class="accordion-collapse collapse" aria-labelledby="specialInteractions" data-bs-parent="#OldPlayerScripts">
                        <div class="accordion-body bg-black">
                            <code class="text-primary">
                                Code Goes Here
                            </code>
                        </div>
                    </div>
                </div>
            </div>
        <br><br>
        <!-- After Player Refactor -->
        <h4>New Code</h4>
        <div class="accordion" id="NewPlayerScripts">
            <div class="accordion-item">
                <h2 class="accordion-header" id="controller">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#cont" aria-expanded="false" aria-controls="cont">
                        Controller.cs
                    </button>
                </h2>
                <div id="cont" class="accordion-collapse collapse" aria-labelledby="controller" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="blobController">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#blobCont" aria-expanded="false" aria-controls="blobCont">
                        BlobController.cs
                    </button>
                </h2>
                <div id="blobCont" class="accordion-collapse collapse" aria-labelledby="blobController" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="batController">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#batCont" aria-expanded="false" aria-controls="batCont">
                        BatController.cs
                    </button>
                </h2>
                <div id="batCont" class="accordion-collapse collapse" aria-labelledby="batController" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="humanController">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#humanCont" aria-expanded="false" aria-controls="humanCont">
                        HumanController.cs
                    </button>
                </h2>
                <div id="humanCont" class="accordion-collapse collapse" aria-labelledby="humanController" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="catController">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#catCont" aria-expanded="false" aria-controls="catCont">
                        CatController.cs
                    </button>
                </h2>
                <div id="catCont" class="accordion-collapse collapse" aria-labelledby="catController" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="fishController">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#fishCont" aria-expanded="false" aria-controls="fishCont">
                        FishController.cs
                    </button>
                </h2>
                <div id="fishCont" class="accordion-collapse collapse" aria-labelledby="fishController" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="playerBrain">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#playBrain" aria-expanded="false" aria-controls="playBrain">
                        PlayerBrain.cs
                    </button>
                </h2>
                <div id="playBrain" class="accordion-collapse collapse" aria-labelledby="playerBrain" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="embodiment">
                    <button class="accordion-button collapsed bg-primary text-black" type="button" data-bs-toggle="collapse" data-bs-target="#embody" aria-expanded="false" aria-controls="embody">
                        Embodiment.cs
                    </button>
                </h2>
                <div id="embody" class="accordion-collapse collapse" aria-labelledby="embodiment" data-bs-parent="#NewPlayerScripts">
                    <div class="accordion-body bg-black">
                        <code class="text-primary">
                            Code Goes Here
                        </code>
                    </div>
                </div>
            </div>
            
        </div>
        </p>
        <br>

        <h3>Player Abilites</h3>
        <p>
            Besides the major script rework, I also worked on the specific abilities of each of the forms, like:
            <ul id="blobForms">
                <li>The Blob
                    <figure>
                        <figcaption>Swing from objects using its tentacles, pick up skeleton piles, and embody skeletons</figcaption>
                        <img src="pictures\Embodiment\BlobSwinging.gif" >
                        <img src="pictures\Embodiment\HumanEmbody.gif">
                    </figure>
                </li>
                <li>The Human
                    <figure>
                        <figcaption>Pick up, push, and throw boxes</figcaption>
                        <img src="pictures\Embodiment\Human Picking Up Boxes.gif">
                        <img src="pictures\Embodiment\Human Pushing Boxes.gif">
                    </figure>
                </li>   
                <li>The Bat
                    <figure>
                        <figcaption>Fly and also pick up boxes</figcaption>
                        <img src="pictures\Embodiment\BatEmbody.gif">
                    </figure>
                </li>
                <li>The Fish
                    <figure>
                        <figcaption>Swims and can do a tail spin to flip switches</figcaption>
                        <img src="pictures\Embodiment\Swimming.gif">
                        <img src="pictures\Embodiment\Spinning.gif">
                    </figure>
                </li>
                <li>The Cat
                    <figure>
                        <figcaption>Climb walls and is the fastest on land</figcaption>
                        <img src="pictures\Embodiment\Cat Climbing.gif">
                    </figure>
                </li>
            </ul>
            <br><br>
            
            For the programming side of the project, I worked on some of the small mechanics used throughout the puzzles, such as buttons, lever switches, a treadmill, etc.
        </p>
        
        <hr>
        <h3>Leadership</h3>
        <p>
            As the team lead, I had a lot more responsiblities than other projects I have worked on. In the beginning of the project, I realized my original plan to have the game in 2.5D was not going to work, because it would've taken way too long for us to get the models working. So, I decided to scrap that idea and switched to more detail 2D artstyle.
            <br>
            After a while though, we realized the current artstyle wasn't working, but thanks to an idea from one of my teammates. We switched to a more simplistic artstyle. It would allow our game to have more distinct artstyle and stand out.
            <br>
            Another issue we ran into was with the scripts related to the player. Specifically, the scripts related too the emboding of skeletons and the skeletons themselves. The scripts were becoming too large and cumbersome. So, I decided that me and otehr program would work to refactor the code so that it was more organized and worked better for what we needed. It took some time, but I was able to come with plan and I believe it worked out for the better.
        </p>
    </div>
    <my-footer></my-footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>